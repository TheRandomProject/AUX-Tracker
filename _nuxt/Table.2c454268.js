import{i as E,_ as J,j as L,k as y,l as N,f as h,m as B,n as ee,o as i,c as f,a as m,q as te,v as ne,s as P,x as $,d as W,t as v,y as c,z as k,b as T,F as w,A as j,g as O,r as ae,B as oe,C as A}from"./entry.d01b7a29.js";import{t as Z,i as H,a as F,b as M,c as re,d as le,e as ue,f as se,_ as ie,g as de}from"./Button.83c6803f.js";import{b as ce,o as fe}from"./omit.6095d49e.js";import{b as me}from"./_baseMap.e1a0ed14.js";const pe=()=>{const e=E("form-events",void 0),t=E("form-path",void 0);return{emitFormBlur:()=>{e&&t&&e.emit({type:"blur",path:t})}}},ge=L({inheritAttrs:!1,props:{value:{type:[String,Number,Boolean,Object],default:null},modelValue:{type:[Boolean,Array],default:null},name:{type:String,default:null},disabled:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},help:{type:String,default:null},label:{type:String,default:null},required:{type:Boolean,default:!1},color:{type:String,default:()=>y.ui.checkbox.default.color,validator(e){return y.ui.colors.includes(e)}},ui:{type:Object,default:()=>y.ui.checkbox}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=N(),a=h(()=>B({},e.ui,n.ui.checkbox)),{emitFormBlur:d}=pe(),s=h({get(){return e.modelValue},set(l){t("update:modelValue",l)}}),o=l=>{t("change",l),d()},p=h(()=>ee(a.value.base,a.value.rounded,a.value.background,a.value.border,a.value.ring.replaceAll("{color}",e.color),a.value.color.replaceAll("{color}",e.color)));return{ui:a,toggle:s,inputClass:p,onChange:o}}}),be={class:"flex items-center h-5"},ye=["id","name","required","value","disabled","checked","indeterminate"],he={key:0,class:"ms-3 text-sm"},ke=["for"];function Se(e,t,n,a,d,s){return i(),f("div",{class:c(e.ui.wrapper)},[m("div",be,[te(m("input",P({id:e.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.toggle=o),name:e.name,required:e.required,value:e.value,disabled:e.disabled,checked:e.checked,indeterminate:e.indeterminate,type:"checkbox",class:["form-checkbox",e.inputClass]},e.$attrs,{onChange:t[1]||(t[1]=(...o)=>e.onChange&&e.onChange(...o))}),null,16,ye),[[ne,e.toggle]])]),e.label||e.$slots.label?(i(),f("div",he,[m("label",{for:e.name,class:c(e.ui.label)},[$(e.$slots,"label",{},()=>[W(v(e.label),1)]),e.required?(i(),f("span",{key:0,class:c(e.ui.required)},"*",2)):k("",!0)],10,ke),e.help?(i(),f("p",{key:0,class:c(e.ui.help)},v(e.help),3)):k("",!0)])):k("",!0)],2)}const ve=J(ge,[["render",Se]]);function Ce(e,t,n){var a=e.length;return n=n===void 0?a:n,!t&&n>=a?e:ce(e,t,n)}var $e="\\ud800-\\udfff",Ae="\\u0300-\\u036f",Be="\\ufe20-\\ufe2f",Ve="\\u20d0-\\u20ff",we=Ae+Be+Ve,je="\\ufe0e\\ufe0f",Oe="\\u200d",Fe=RegExp("["+Oe+$e+we+je+"]");function z(e){return Fe.test(e)}function Me(e){return e.split("")}var D="\\ud800-\\udfff",Re="\\u0300-\\u036f",Ue="\\ufe20-\\ufe2f",qe="\\u20d0-\\u20ff",Ee=Re+Ue+qe,Te="\\ufe0e\\ufe0f",He="["+D+"]",R="["+Ee+"]",U="\\ud83c[\\udffb-\\udfff]",Je="(?:"+R+"|"+U+")",G="[^"+D+"]",K="(?:\\ud83c[\\udde6-\\uddff]){2}",Q="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="\\u200d",X=Je+"?",Y="["+Te+"]?",Ne="(?:"+Le+"(?:"+[G,K,Q].join("|")+")"+Y+X+")*",Pe=Y+X+Ne,We="(?:"+[G+R+"?",R,K,Q,He].join("|")+")",Ze=RegExp(U+"(?="+U+")|"+We+Pe,"g");function ze(e){return e.match(Ze)||[]}function De(e){return z(e)?ze(e):Me(e)}function Ge(e){return function(t){t=Z(t);var n=z(t)?De(t):void 0,a=n?n[0]:t.charAt(0),d=n?Ce(n,1).join(""):t.slice(1);return a[e]()+d}}var Ke=Ge("toUpperCase");const Qe=Ke;function Xe(e){return Qe(Z(e).toLowerCase())}function Ye(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Ie(e,t){if(e!==t){var n=e!==void 0,a=e===null,d=e===e,s=H(e),o=t!==void 0,p=t===null,l=t===t,u=H(t);if(!p&&!u&&!s&&e>t||s&&o&&l&&!p&&!u||a&&o&&l||!n&&l||!d)return 1;if(!a&&!s&&!u&&e<t||u&&n&&d&&!a&&!s||p&&n&&d||!o&&d||!l)return-1}return 0}function _e(e,t,n){for(var a=-1,d=e.criteria,s=t.criteria,o=d.length,p=n.length;++a<o;){var l=Ie(d[a],s[a]);if(l){if(a>=p)return l;var u=n[a];return l*(u=="desc"?-1:1)}}return e.index-t.index}function xe(e,t,n){t.length?t=F(t,function(s){return M(s)?function(o){return re(o,s.length===1?s[0]:s)}:s}):t=[le];var a=-1;t=F(t,ue(se));var d=me(e,function(s,o,p){var l=F(t,function(u){return u(s)});return{criteria:l,index:++a,value:s}});return Ye(d,function(s,o){return _e(s,o,n)})}function et(e,t,n,a){return e==null?[]:(M(t)||(t=t==null?[]:[t]),n=a?void 0:n,M(n)||(n=n==null?[]:[n]),xe(e,t,n))}function tt(e,t){return e===t}const nt=L({props:{modelValue:{type:Array,default:null},by:{type:[String,Function],default:()=>tt},rows:{type:Array,default:()=>[]},columns:{type:Array,default:null},columnAttribute:{type:String,default:"label"},sort:{type:Object,default:()=>({})},sortButton:{type:Object,default:()=>y.ui.table.default.sortButton},sortAscIcon:{type:String,default:()=>y.ui.table.default.sortAscIcon},sortDescIcon:{type:String,default:()=>y.ui.table.default.sortDescIcon},loading:{type:Boolean,default:!1},loadingState:{type:Object,default:()=>y.ui.table.default.loadingState},emptyState:{type:Object,default:()=>y.ui.table.default.emptyState},ui:{type:Object,default:()=>y.ui.table}},emits:["update:modelValue"],setup(e,{emit:t,attrs:n}){const a=N(),d=h(()=>B({},e.ui,a.ui.table)),s=h(()=>e.columns??Object.keys(fe(e.rows[0]??{},["click"])).map(r=>({key:r,label:Xe(r),sortable:!1}))),o=ae(B({},e.sort,{column:null,direction:"asc"})),p=h(()=>{var C;if(!((C=o.value)!=null&&C.column))return e.rows;const{column:r,direction:g}=o.value;return et(e.rows,r,g)}),l=h({get(){return e.modelValue},set(r){t("update:modelValue",r)}}),u=h(()=>l.value&&l.value.length>0&&l.value.length<e.rows.length),S=h(()=>({...d.value.default.emptyState,...e.emptyState}));function b(r,g){if(typeof e.by=="string"){const C=e.by;return(r==null?void 0:r[C])===(g==null?void 0:g[C])}return e.by(r,g)}function V(r){return e.modelValue?l.value.some(g=>b(A(g),A(r))):!1}function I(r){if(o.value.column===r.key){const g=!r.direction||r.direction==="asc"?"desc":"asc";o.value.direction===g?o.value=B({},e.sort,{column:null,direction:"asc"}):o.value.direction=o.value.direction==="asc"?"desc":"asc"}else o.value={column:r.key,direction:r.direction||"asc"}}function q(r){n.onSelect&&n.onSelect(r)}function _(){e.rows.forEach(r=>{l.value.some(g=>b(A(g),A(r)))||q(r)})}function x(r){r.target.checked?_():l.value=[]}return{ui:d,sort:o,columns:s,rows:p,selected:l,indeterminate:u,emptyState:S,isSelected:V,onSort:I,onSelect:q,onChange:x}}}),at={key:0,scope:"col",class:"ps-4"},ot={key:1},rt={key:0},lt=["colspan"],ut={key:1},st=["colspan"],it=["onClick"],dt={key:0,class:"ps-4"};function ct(e,t,n,a,d,s){const o=ve,p=de,l=ie;return i(),f("div",{class:c(e.ui.wrapper)},[m("table",{class:c([e.ui.base,e.ui.divide])},[m("thead",{class:c(e.ui.thead)},[m("tr",{class:c(e.ui.tr.base)},[e.modelValue?(i(),f("th",at,[T(o,{checked:e.indeterminate||e.selected.length===e.rows.length,indeterminate:e.indeterminate,onChange:e.onChange},null,8,["checked","indeterminate","onChange"])])):k("",!0),(i(!0),f(w,null,j(e.columns,(u,S)=>(i(),f("th",{key:S,scope:"col",class:c([e.ui.th.base,e.ui.th.padding,e.ui.th.color,e.ui.th.font,e.ui.th.size,u.class])},[$(e.$slots,`${u.key}-header`,{column:u,sort:e.sort,onSort:e.onSort},()=>[u.sortable?(i(),O(p,P({key:0},{...e.ui.default.sortButton,...e.sortButton},{icon:!e.sort.column||e.sort.column!==u.key?e.sortButton.icon||e.ui.default.sortButton.icon:e.sort.direction==="asc"?e.sortAscIcon:e.sortDescIcon,label:u[e.columnAttribute],onClick:b=>e.onSort(u)}),null,16,["icon","label","onClick"])):(i(),f("span",ot,v(u[e.columnAttribute]),1))])],2))),128))],2)],2),m("tbody",{class:c(e.ui.tbody)},[e.loadingState&&e.loading?(i(),f("tr",rt,[m("td",{colspan:e.columns.length+(e.modelValue?1:0)},[$(e.$slots,"loading-state",{},()=>[m("div",{class:c(e.ui.loadingState.wrapper)},[e.loadingState.icon?(i(),O(l,{key:0,name:e.loadingState.icon,class:c(e.ui.loadingState.icon),"aria-hidden":"true"},null,8,["name","class"])):k("",!0),m("p",{class:c(e.ui.loadingState.label)},v(e.loadingState.label),3)],2)])],8,lt)])):e.emptyState&&!e.rows.length?(i(),f("tr",ut,[m("td",{colspan:e.columns.length+(e.modelValue?1:0)},[$(e.$slots,"empty-state",{},()=>[m("div",{class:c(e.ui.emptyState.wrapper)},[e.emptyState.icon?(i(),O(l,{key:0,name:e.emptyState.icon,class:c(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):k("",!0),m("p",{class:c(e.ui.emptyState.label)},v(e.emptyState.label),3)],2)])],8,st)])):(i(!0),f(w,{key:2},j(e.rows,(u,S)=>(i(),f("tr",{key:S,class:c([e.ui.tr.base,e.isSelected(u)&&e.ui.tr.selected,e.$attrs.onSelect&&e.ui.tr.active]),onClick:()=>e.onSelect(u)},[e.modelValue?(i(),f("td",dt,[T(o,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=b=>e.selected=b),value:u,onClick:t[1]||(t[1]=oe(()=>{},["stop"]))},null,8,["modelValue","value"])])):k("",!0),(i(!0),f(w,null,j(e.columns,(b,V)=>(i(),f("td",{key:V,class:c([e.ui.td.base,e.ui.td.padding,e.ui.td.color,e.ui.td.font,e.ui.td.size])},[$(e.$slots,`${b.key}-data`,{column:b,row:u,index:S},()=>[W(v(u[b.key]),1)])],2))),128))],10,it))),128))],2)],2)],2)}const bt=J(nt,[["render",ct]]);export{bt as _};
